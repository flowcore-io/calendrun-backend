# CalendRun Backend Environment Variables
# Copy this file to .env.local and fill in your values

# Node Environment
NODE_ENV=development

# Server Port
PORT=18765

# Database
DATABASE_URL=postgresql://user:password@localhost:5432/calendrun

# Flowcore Configuration
# Note: FLOWCORE_DATA_CORE is the name (e.g., "calendrun"), not the ID
# The backend automatically resolves the ID from the name using the Flowcore SDK
FLOWCORE_TENANT=flowcore-saas
FLOWCORE_DATA_CORE=calendrun
FLOWCORE_API_KEY=your-flowcore-api-key-here

# Backend API Key (for frontend-backend authentication)
# Generate a secure random key (e.g., openssl rand -hex 32)
# If not set, API key authentication is disabled (development only)
BACKEND_API_KEY=your-backend-api-key-here

# Event Polling Interval (seconds)
POLL_INTERVAL=5

# Optional: Backlog Processing on Startup
# Set PROCESS_BACKLOG_ON_STARTUP=false to skip processing backlog events on startup
# BACKLOG_TIME_BUCKETS controls how many time buckets to process (default: 3)
PROCESS_BACKLOG_ON_STARTUP=true
BACKLOG_TIME_BUCKETS=3

# Optional: Database Reset (only for development/testing)
# Set RESET_DB=true to drop and recreate tables on startup
# WARNING: This will delete all data!
# RESET_DB=false

# Optional: NextAuth Configuration (for webhook verification)
# NEXTAUTH_SECRET=your-nextauth-secret-here

# Optional: Keycloak Configuration (for webhook verification)
# KEYCLOAK_ISSUER=https://your-keycloak-instance.com/realms/your-realm
# CORS_ORIGIN=http://localhost:3000

# Optional: Skip Environment Validation (for debugging)
# SKIP_ENV_VALIDATION=false

